{% extends 'base.html.twig' %}

{% block title %}Quiz app | Sign in{% endblock %}

{% block body %}
    <h1 class="my-3">Sign in</h1>

    <form method="post">
        {% if error %}
            <div role="alert" class="alert alert-danger alert-dismissible fade show">
                {{ error.messageKey|trans(error.messageData, 'security') }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endif %}

        {% if app.user %}
            <div class="mb-3">
                You are logged in as {{ app.user.userIdentifier }}, <a href="{{ path('app_sign_out') }}">Logout</a>
            </div>
        {% endif %}

        <div class="row">
            <div class="col col-4">
                <label for="inputNickname">Nickname</label>
                <input
                    id="inputNickname"
                    type="text"
                    name="nickname"
                    value="{{ last_username }}"
                    class="form-control mb-3"
                    autocomplete="username"
                    required
                    autofocus
                >

                <label for="inputPassword">Password</label>
                <input
                    id="inputPassword"
                    type="password"
                    name="password"
                    class="form-control mb-4"
                    autocomplete="current-password"
                    required
                >

                <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

                <button class="btn btn-lg btn-primary">
                    Sign in
                </button>
            </div>
        </div>
    </form>
{% endblock %}